## Отчет по лабораторной работе № 2

#### № группы: `ПМ-2401`

#### Выполнил: `Селезнева Екатерина Михайловна`

#### Вариант: `25`

### Cодержание:

- [Постановка задачи](#1-постановка-задачи)
- [Входные и выходные данные](#2-входные-и-выходные-данные)
- [Выбор структуры данных](#3-выбор-структуры-данных)
- [Алгоритм](#4-алгоритм)
- [Программа](#5-программа)
- [Анализ правильности решения](#6-анализ-правильности-решения)

### 1. Постановка задачи

> Напишите программу на Java, которая выполняет следующие действия
с двумерным массивом логических выражений:
>1. Считывает с консоли размеры массива N и M, затем элементы
   массива размером N × M (логические выражения (‘>’, ‘<’, ‘=’),
   например, «x > 5», x — всегда слева, а справа цифра). Затем считывает число K.
>2. Вычисляет и выводит результат каждого логического выражения,
   считая, что x = K.
>3. Сортирует строки массива по количеству истинных выражений в
   строке. Если количества равны, сортирует по максимальному количеству подряд идущих ложных выражений.
>4. Выводит массив, заменяя истинные выражения на «Истина», ложные — на «Ложь».
>5. Находит и выводит общее количество уникальных правых частей
   всех логических выражений массива.

    
### 2. Входные и выходные данные

#### Данные на вход

На вход программа должна получать 2 натуральных числа - размеры массива. Верхняя граница получаемых
чисел не дана, будем считать ее 10<sup>9</sup>. 
Затем программа получает на вход значения массива. После программа получает число k, условием не сказано, что 
оно является натуральным, поэтому будем считать его вещественным.

|             | Тип                | min значение    | max значение   |
|-------------|--------------------|-----------------|----------------|
| M (Число 1) | Натуральное число  | 1               | 10<sup>9</sup> |
| N (Число 2) | Натуральное число  | 1               | 10<sup>9</sup> |
| a(массив 1) | Двумерный массив   |                 |                |
| k (Число 2) | Вещественное число | -10<sup>9</sup> | 10<sup>9</sup> |



#### Данные на выход

Программа должна вывести:
1. результат каждого логического выражения, считая, что x = K.
2. отсортированный первый массив 
3. массив, заменяя истинные выражения на «Истина», ложные — на «Ложь»
4. общее количество уникальных правых частей всех логических выражений массива

|          | Тип               | кол-во эл-тов | значения    |
|----------|-------------------|---------------|-------------|
| Массив 1 | Двумерный массив  | n*m           | true/false  |
| Массив 2 | Двумерный массив  | n*m           | строки      |
| Массив 3 | Двумерный массив  | n*m           | Истина/Ложь |
| Число 1  | Натуральное число | 1             | 1 - 10      |




### 3. Выбор структуры данных

Программа получает 2 натуральных числа N и M, не превышающих  10<sup>9</sup>, затем еще n*m строк, а после вещественное число.
Поэтому для их хранения можно выделить 2 переменных (`n` и `m`) типа `int`, переменную `a` типа `String[][]` и переменную `k` типа `double`

|              | название переменной | Тип (в Java) | 
|--------------|---------------------|--------------|
| n (Число 1)  | `n`                 | `int`        |
| m (Число 2)  | `m`                 | `int`        | 
| a (Массив 1) | `a`                 | `String[][]` |
| k (Число 3)  | `k`                 | `double`     | 

Программа должна вывести результат каждого логического выражения, поэтому можно использовать тип `Boolean[][]`. Для следующего вывода
можно использовать исходный двумерный массив `a`. Последним выводится натуральное число, можно использовать тип `int`.

|              | название переменной | Тип (в Java)  | 
|--------------|---------------------|---------------|
| b (Массив 1) | `b`                 | `Boolean[][]` |
| a (Массив 2) | `a`                 | `String[][]`  |
| s2 (Число 1) | `s2`                | `int`         | 

### 4. Алгоритм

#### Алгоритм выполнения программы:

1. **Ввод данных:**  
   Программа считывает:
- два натуральных числа, обозначенные как `n` и `m`
- строки вида `x>5` двумерного массива, обозначеннного `a`
- вещественное число, обозначенное как `k`

2. **Вычисление и вывод значений каждого логического выражения**
- В массиве `b` для каждой строки из a записывается true или false
- Вывод массива `b` 

3. **Создание и заполнение массивов `t` и `mf`**
- Программа проверяет значение каждого элемента в `b`. Если b[i][j] = true, то к t[i] прибавляется 1.
Таким образом в `t` после окончания цикла будет записано количество истинных выражений для каждой строки. Также
в цикле считается количество идущих подряд ложных выражений в каждой строке. Для этого используются переменные `с` и `mc`.
`с` увеличивается на 1, если выражение в строке ложное, и равняется нулю, если положительное. `mc` считатает масимум для `c`, затем
это значение записывается в массив `mf`. Таким образом в `mf` после окончания цикла будет записано количество идущих подряд ложных
выражений для каждой строки.

4. **Сортировка массивов пузырьком**
- Одновременно сортируются 4 массива: `a`, `b`, `t`, `mf`
- Во внутреннем цикле сравниваются соседние значения в `t` (кол-во истинных выражений для строки). Если следующее значение больше,
то элементы с этими номерами меняются местами во всех 4 массивах. Если значения одинаковые, то сравниваются соответствующие 
значения из `mf`. Если значение следующего меньше, то происходит такая же перестановка.

5. **Подсчет кол-ва уникальных правых частей**
- Цифр всего 10, значит удобно будет создать целочисленный массив `x` для подсчета кол-ва появлений каждой цифры
- Сначала заполним его нулями, затем для каждой встретившейся цифры будем +1 к `x` с индексом этой цифры
- Кол-во эл-тов в `x` равных единице - кол-во уникальных правых частей
- Пробегаем по массиву, если элемент = 1, то к переменной s2 + 1

6. **Вывод**
- Полученный после сортировки массив `a`
- Полученный после сортировки массив `b`, заменяя true на Истина, false на Ложь
- Кол-во уникальных правых частей `s2`
### 4. Программа

```java
import java.io.PrintStream;
import java.util.Scanner;
import java.io.IOException;
public class Main {
   // Объявляем объект класса Scanner для ввода данных
   public static Scanner in = new Scanner(System.in);
   // Объявляем объект класса PrintStream для вывода данных
   public static PrintStream out = System.out;
   public static void main(String[] args) throws IOException {

//      считывание двух натуральных чисел (размеры массива)из консоли
      int n = in.nextInt();
      int m = in.nextInt();
//        создание массивов
      String [][]a = new String[n][m];
      Boolean [][]b = new Boolean[n][m];
      in.nextLine();
//         заполнение массива a строками из консоли
      for (int i=0; i<n; i++)
         for (int j=0; j<m; j++)
            a[i][j] = in.nextLine();
//считывание вещественной перменной k
      double k = in.nextDouble();
//        заполнение массива b значениями логических выражений
      for (int i=0; i<n; i++)
         for (int j=0; j<m; j++)
            if (a[i][j].charAt(1)=='>')
               b[i][j] = k > (double)(a[i][j].charAt(2)-'0');
            else
            if (a[i][j].charAt(1)=='<')
               b[i][j] = k < (double)(a[i][j].charAt(2)-'0');
            else
               b[i][j] = k == (double)(a[i][j].charAt(2)-'0');

//      вывод массива с значениями логических выражений
      for (int i=0; i<n; i++){
         for (int j=0; j<m; j++)
            out.print(b[i][j]+" ");
         out.println();
      }


      int []t = new int[n]; //массив для кол-ва истинных выражений для каждой строки
      int []mf = new int[n]; //массива для количества ложных выражений подряд для каждой строки

      String []s = new String[m]; //массив строк для сортировки массива a
      Boolean []z = new Boolean[m]; //массив логических переменных для сортировки массива b
      int arr; //переменная для сортировки массивов t и mf
      //переменные для подсчета количества ложных выражение подряд
      int c;
      int mc;

//        заполнение массивов t и mf
      for (int i=0; i<n; i++){
         mc = 0;
         c = 0;
         t[i] = 0;
         for (int j=0; j<m; j++){
            if (b[i][j]){
               t[i]++;
               c = 0;
            }
            else{
               c++;
               if (mc<c)
                  mc = c;
            }
         }
         mf[i] = mc;
      }

//        сортировка массивов a,b,t,mf
      for (int l = 1; l<n; l++)//повторение чтобы отсортировалось
         for (int i = 0; i<n-l; i++) { //строка
//              если в строке меньше истинных выражений, чем в следующей
//              или если кол-во истинных выражений в строках одинаково и в строке больше ложных выражений подряд, чем в следующей
            if (t[i]<t[i+1] || (t[i]==t[i+1] && mf[i]>mf[i+1])){
//                  перестановка строк в массиве b
               z = b[i];
               b[i] = b[i+1];
               b[i+1] = z;

//                  перестановка строк в массиве a
               s = a[i];
               a[i] = a[i+1];
               a[i+1] = s;

//                  перестановка эл-тов в массиве t
               arr = t[i];
               t[i] = t[i+1];
               t[i+1] = arr;

//                  перестановка эл-тов в массиве mf
               arr = mf[i];
               mf[i] = mf[i+1];
               mf[i+1] = arr;
            }
         }

//      создаем массив x для подсчета уникальных правых частей
      int []x = new int[10];
      //заполняем x нулями
      for (int i = 0; i<10; i++)
         x[i]=0;

      //считаем, сколько раз встречается каждая цифра
      for (int i=0; i<n; i++)
         for (int j=0; j<m; j++)
            x[(a[i][j].charAt(2))-'0'] ++;
      //целочсленная переменная для подсчета уникальных правых частей
      int s2 = 0;
      //подсчет уникальных правых частей
      for (int i=0; i<x.length; i++){
         if (x[i]==1)
            s2++;
      }
      //вывод отсортированного массива строк a
      for (int i=0; i<n; i++){
         for (int j=0; j<m; j++)
            out.print(a[i][j]+" ");
         out.println();
      }
//        вывод отсортированного массива b
      for (int i=0; i<n; i++){
         for (int j=0; j<m; j++)
            if (b[i][j])
               out.print("Истина"+" ");
            else
               out.print("Ложь"+" ");
         out.println();
      }
      //вывод кол-ва уникальных правых частей
      out.println(s2);

   }
}
```

### 6. Анализ правильности решения

Программа работает корректно на всем множестве решений с учетом ограничений.

1. Тест, строки в массиве уже стоят в правильном порядке:

    - **Input**:
        ```
         4
         3
         x>0
         x>1
         x<9
         x>2
         x>3
         x=3
         x>4
         x=0
         x<2
         x<1
         x<3
         x>9
         5
        ```

    - **Output**:
        ```
      true true true 
      true true false
      true false false
      false false false
      
      x>0 x>1 x<9
      x>2 x>3 x=3
      x>4 x=0 x<2
      x<1 x<3 x>9
      
      Истина Истина Истина
      Истина Истина Ложь
      Истина Ложь Ложь
      Ложь Ложь Ложь
      
      1
        ```

2. Тест, строки стоят в обратном порядке:

    - **Input**:
        ```
         4
         3
         x<1
         x<3
         x>9
         x>4
         x=0
         x<2
         x>2
         x>3
         x=3
         x>0
         x>1
         x<9
         5
        ```

      - **Output**:
          ```
        false false false 
        true false false
        true true false
        true true true
      
        x>0 x>1 x<9
        x>2 x>3 x=3
        x>4 x=0 x<2
        x<1 x<3 x>9
      
        Истина Истина Истина
        Истина Истина Ложь
        Истина Ложь Ложь
        Ложь Ложь Ложь
      
        1
          ```

3. Тест на сортировку по количеству ложных выражений подряд:

    - **Input**:
        ```
        3
      5
      x>0
      x<0
      x=9
      x=8
      x>1
      x<2
      x>5
      x=3
      x=0
      x>1
      x=0
      x=3
      x=7
      x>1
      x=6
      3
        ```

    - **Output**:
        ```
      true false false false true 
      false false true false true
      false true false true false
            
      x=0 x=3 x=7 x>1 x=6
      x<2 x>5 x=3 x=0 x>1
      x>0 x<0 x=9 x=8 x>1
            
      Ложь Истина Ложь Истина Ложь
      Ложь Ложь Истина Ложь Истина
      Истина Ложь Ложь Ложь Истина
            
      6
        ```